<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tráº¯c Nghiá»‡m An Ninh Máº¡ng Pro</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <script>window.MathJax = {tex: {inlineMath: [['$', '$'], ['\\(', '\\)']] }};</script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <audio id="bg-music" loop><source src="bgm.mp3"></audio>
    <button id="settings-btn" onclick="toggleSettings()">âš™ï¸</button>
    <div id="settings-modal" class="hide">
        <h3>CÃ€I Äáº¶T</h3>
        <div class="setting-item"><span>ğŸ”Š Ã‚m thanh</span><input type="checkbox" id="toggle-sfx" checked></div>
        <div class="setting-item"><span>ğŸµ Nháº¡c ná»n</span><input type="checkbox" id="toggle-bgm"></div>
        <div class="setting-item"><span>ğŸ”¥ Streak</span><input type="checkbox" id="toggle-streak" checked></div>
        <button class="btn-close" onclick="toggleSettings()">ÄÃ³ng</button>
    </div>
    <div id="streak-box" class="hide">ğŸ”¥ Streak: <span id="streak-count">0</span></div>

    <div class="container" id="main-container">
        
        <div id="home-screen" class="center-box">
            <h1>CHá»ŒN MÃ”N Há»ŒC</h1>
            <p>Made by: chi yeu minh karina thoi</p>
            <div class="subject-grid">
                <button class="btn-subject anm-theme" onclick="selectSubject('anm')">
                    <br>AN NINH Máº NG
                </button>
                
                <button class="btn-subject commerce-theme" onclick="selectSubject('commerce')">
                    <br>THÆ¯Æ NG Máº I ÄIá»†N Tá»¬
                </button>

                <button class="btn-subject anm-theme" onclick="selectSubject('marketing')">
                    <br>TIáº¾P THá»Š TRá»°C TUYáº¾N 
                </button>
            </div>
        </div>

        <div id="start-screen" class="center-box hide">
            <button class="btn-back" onclick="goHome()">â¬… Quay láº¡i</button>
            <h1 id="subject-title">TÃŠN MÃ”N Há»ŒC</h1>
            <p>NgÃ¢n hÃ ng: <span id="total-questions-count">...</span> cÃ¢u</p>
            
            <div class="mode-selection">
                <button id="btn-practice" class="btn-start btn-mode" onclick="startQuiz('practice')">ğŸ“– Ã”N Táº¬P</button>
                <button id="btn-test" class="btn-start btn-mode" onclick="startQuiz('test')">â±ï¸ THI THá»¬</button>
                
                <button id="btn-math" class="btn-start btn-mode math-mode hide" onclick="startQuiz('math')">
                    ğŸ§® TÃNH TOÃN
                </button>
            </div>
        </div>

        <div id="quiz-box" class="hide">
            <div class="header">
                <div id="timer-box" class="hide"><span id="time-left">50:00</span></div>
                <div class="progress-container"><div id="progress-bar"></div></div>
                <div class="stats-text"><span id="question-count">CÃ¢u 1</span><span id="score">Äiá»ƒm: 0</span></div>
            </div>
            <div id="redemption-alert" class="hide">ğŸŒŸ CÆ  Há»˜I Gá»  ÄIá»‚M! ğŸŒŸ</div>
            <div class="question-container"><h2 id="question-text">Loading...</h2></div>
            <div class="options-grid" id="options-container"></div>
            <div id="explanation-box" class="hide"></div>
            <button id="next-btn" class="hide" onclick="handleNextButton()">Tiáº¿p tá»¥c âœ</button>
        </div>

        <div id="result-box" class="hide center-box">
            <h2>HoÃ n thÃ nh!</h2>
            <h1 id="final-score">0/0</h1>
            <div id="review-container" class="hide"><h3>âš ï¸ CÃ¢u sai:</h3><div id="review-list"></div></div>
            <div class="result-buttons">
                <button class="btn-start" onclick="selectSubject(currentSubject)">LÃ m láº¡i</button>
                <button class="btn-start btn-home" onclick="goHome()">ğŸ  Vá» trang chá»§</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
      window.MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] } };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="script.js"></script>
</body>
</html>

